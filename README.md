# Bulletin_board
Бэкенд-часть проекта предполагает реализацию следующего функционала:

- Авторизация и аутентификация пользователей.
- Распределение ролей между пользователями (пользователь и админ).
- Восстановление пароля через электронную почту (не обязательно).
- CRUD для объявлений на сайте (админ может удалять или редактировать все объявления, а пользователи только свои).
- Под каждым объявлением пользователи могут оставлять отзывы.
- В заголовке сайта можно осуществлять поиск объявлений по названию.

**Краткое техническое задание**

модель юзера. Настройка авторизации и аутентификации.
    - Создание модели пользователя.
        - Необходимые поля:
        - first_name — имя пользователя (строка).
        - last_name — фамилия пользователя (строка).
        - phone — телефон для связи (строка).
        - email — электронная почта пользователя (email) **(используется в качестве логина).**
        - role — роль пользователя, доступные значения: user, admin.
        - image - аватарка пользователя
    - Настройка авторизации и аутентификации.
        авторизацию пользователя с помощью библиотеки simple_jwt. Подробнее об этом можно узнать в рекомендациях
    
 Модель **объявления** содержит следующие поля:
   - title — название товара.
    - price — цена товара (целое число).
    - description — описание товара.
    - author — пользователь, который создал объявление.
    - created_at — время и дата создания объявления.
    
    *Все записи при выдаче отсортированы по дате создания 
    (чем новее, тем выше).*
    
Модель **отзыва** должна содержать следующие поля:
    - text — текст отзыва.
    - author — пользователь, который оставил отзыв.
    - ad — объявление, под которым оставлен отзыв.
    - created_at - время и дата создания отзыва
    
  Также работа предусматривает реализацию поиска товаров на главной странице по названию.
    
  **Анонимный пользователь может**:
    
  получать список объявлений.
    
  **Пользователь может:**
    
  - получать список объявлений,
    - получать одно объявление,
    - создавать объявление
    - редактировать и удалять свое объявление,
    - получать список комментариев,
    - создавать комментарии,
    - редактировать/удалять свои комментарии.
    
    **Администратор может:**
    
    дополнительно к правам пользователя редактировать или удалять
    объявления и комментарии любых других пользователей.


Все необходимые urls для управления пользователями, а именно:
 - GET "users/" — список профилей пользователей
 - POST "users/" — регистрация пользователя
 - GET, PATCH, DELETE "users/{id}" — в соотвествии с REST и необходимыми permissions (для администратора)
 - GET PATCH "users/me" — получение и изменение своего профиля
 - POST "users/set_password" — ручка для изменения пароля
 - POST "users/reset_password" — ручка для направления ссылки сброса пароля на email*
 - POST "users/reset_password_confirm" — ручка для сброса своего пароля*


Подготовка к работе с проектом

Шаг 1: Клонирование проекта
Зайти в терминал
С помощью команды cd перейти в директорию, где будет находиться проект
Клонировать проект:
git clone git@github.com:Maryieng/Bulletin_board.git

Шаг 2: Настройка окружения
В директории проекта создать файл .env на основе .env.example

Записать в файл следующие настройки
SECRET_KEY_DJANGO = секретный код джанго
USER_DATABASES = имя пользователя в базе данных
PASSWORD_DATABASES = пароль пользователя в базе данных
CELERY_BROKER_URL = URL-адрес брокера сообщений
CELERY_RESULT_BACKEND = URL-адрес для хранения результатов выполнения задач Celery
POSTGRES_DB = название проекта в базе данных

Шаг 3: Создание образа и запуск проекта
Настройки Докера
Установка Подробное руководство по установке
Проверка работоспособности докера docker run hello-world
Команды для запуска docker-compose build- создать контейнеры докера
docker-compose up- запустить контейнеры докера
Доступ http://localhost:8000

Шаг 4: Загрузка данных
Выполнить команду
docker-compose exec app python3 manage.py loaddata data.json

Просмотр документации
Swagger:
http://localhost:8000/swagger/

